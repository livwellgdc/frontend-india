(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{OE6O:function(t,i,a){"use strict";a.r(i);var e=a("8Y7J"),s=a("xKpn"),n=a("8uYd"),l=a("DWgq"),h=a("RliZ"),r=a("9JY2"),b=a("SqtC"),o=a("ygWr");class d extends r.a{constructor(t,i,a,e,s,n,l){super(),this._bc=t,this._fb=i,this._router=a,this._table=e,this._charity=s,this._common=n,this._toast=l,this.heading=[{heading:"Logo",key:"logo",type:"img",align:"center"},{heading:"Name",key:"name",align:"center",content:!0,type:"link",link:`/${b.x}`},{heading:"Email",key:"email",align:"center"},{heading:"Mobile",key:"mobileNo",align:"center"},{heading:"Status",key:"status",align:"center"},{heading:"Action",key:"action",type:"action",action:[1,3]}],this.categoryList=[],this.classCategoryList=[],this.subscriptions=[],this.tempList=[]}ngOnInit(){this._bc.setBreadcrumb(n.E),this.permissionHandler(),this.getCharityListing()}permissionHandler(){let t=this._common.getPermissionBySectionId(h.Yb.CHARITY);Object(l.l)(t)||(t.addEdit||t.deleteBlock?(t.addEdit||(this.permissionClass="removeAddButton",this.heading[this.heading.length-1].action=this.removeAction([1])),t.deleteBlock||(this.heading[this.heading.length-1].action=this.removeAction([3]))):(this.permissionClass="removeAddButton",this.heading.splice(this.heading.length-1,1)))}removeAction(t){return this.heading[this.heading.length-1].action.filter(i=>!t.includes(i))}getCharityListing(){this.subscriptions.push(this._charity.getCharityList(this.validPageOptions).subscribe(t=>{this.tempList=t.data,this._table.tableRender(t)},()=>{this._table.tableRender({data:[]})}))}getCategories(t){this.subscriptions.push(this._common.getCategories({pageNo:1,limit:100,categoryType:t,status:this.API_EVENT.active}).subscribe(i=>{200===i.statusCode&&(t===this.API_EVENT.challenge?this.categoryList=i.data:this.classCategoryList=i.data)}))}addCharity(t){this._router.navigate(0==t.id?[`${b.x}/${b.c}`]:[`${b.x}/${b.I}`,t.data._id])}paginationWithSearch(t,i){switch(i){case 0:this.resetPages(),this.search=t,this.tableRef.paginator&&this.tableRef.paginator.firstPage();break;default:this.pageOptionsOnChange=t}this.getCharityListing()}sortByListing(t){this.sortOptions=t,this.getCharityListing()}changeStatus(t){switch(t.id){case 1:this.addCharity(t);break;default:this.changeCharityStatus(t)}}changeCharityStatus(t){this._charity.deleteCharity({charityId:t.data._id,status:t.action}).subscribe(i=>{t.action==this.API_EVENT.delete&&t.data.s_no>1&&t.data.s_no%this.limit==1&&1==this.tempList.length&&(this.pageNo=this.pageNo-1,this.tableRef.paginator.pageIndex=this.pageNo-1),this.getCharityListing(),this._toast.success(i.message)})}submitFilter(t){this.filterForm.dirty&&(t.apply?this.filterOptions=this.filterForm.value:(this.filterOptions=null,this.filterForm.reset()),this.resetPages(),this.tableRef.paginator&&this.tableRef.paginator.firstPage(),this.getCharityListing())}ngOnDestroy(){this.subscriptions.length>0&&this._common.unsubscribe(this.subscriptions)}}class c{}var g=a("pMnS"),u=a("NcP4"),O=a("t68o"),p=a("A8YC"),m=a("zbXB"),y=a("7nec"),f=a("d0kF"),C=a("A7ZX"),v=a("s6ns"),_=a("E2f4"),A=a("iInd"),k=a("dfTd"),L=a("++gc"),E=a("A1Tq"),w=a("IrvQ"),N=a("s7LF"),F=e.Cb({encapsulation:0,styles:[[""]],data:{}});function I(t){return e.ac(0,[e.Wb(402653184,1,{tableRef:0}),(t()(),e.Eb(1,0,null,null,2,"mat-table-renderer",[["notFound","Challenges not added"],["placeholder","Search by Name"]],null,[[null,"status"],[null,"add"],[null,"find"],[null,"page"],[null,"sort"],[null,"filter"]],(function(t,i,a){var e=!0,s=t.component;return"status"===i&&(e=!1!==s.changeStatus(a)&&e),"add"===i&&(e=!1!==s.addCharity(a)&&e),"find"===i&&(e=!1!==s.paginationWithSearch(a,0)&&e),"page"===i&&(e=!1!==s.paginationWithSearch(a,1)&&e),"sort"===i&&(e=!1!==s.sortByListing(a)&&e),"filter"===i&&(e=!1!==s.submitFilter(a)&&e),e}),f.b,f.a)),e.Db(2,245760,[[1,4]],0,s.a,[C.a,v.e,_.a,A.a,k.a,L.a],{cls:[0,"cls"],heading:[1,"heading"],notFound:[2,"notFound"],placeholder:[3,"placeholder"]},{page:"page",find:"find",sort:"sort",add:"add",status:"status",filter:"filter"}),(t()(),e.Eb(3,0,null,1,0,"div",[["role","filter"]],null,null,null,null,null))],(function(t,i){var a=i.component;t(i,2,0,e.Ib(1,"",a.permissionClass," removeFilter"),a.heading,"Challenges not added","Search by Name")}),null)}function P(t){return e.ac(0,[(t()(),e.Eb(0,0,null,null,2,"lv-charity-list",[],null,null,null,I,F)),e.Vb(512,null,o.a,o.a,[E.a]),e.Db(2,245760,null,0,d,[w.a,N.f,A.o,C.a,o.a,L.a,k.a],null,null)],(function(t,i){t(i,2,0)}),null)}var R=e.Ab("lv-charity-list",d,P,{},{},[]),S=a("SVse"),B=a("POq0"),x=a("Xd0L"),T=a("QQfA"),j=a("IP0z"),H=a("JjoW"),V=a("Mz6y"),W=a("cUpR"),Y=a("OIZN"),Z=a("7kcP"),q=a("821u"),M=a("/HVE"),z=a("gavF"),D=a("Gi4r"),G=a("HsOI"),J=a("oapL"),$=a("ZwOa"),Q=a("Fwaw"),K=a("dHPm"),U=a("Z0D0"),X=a("zMNK"),tt=a("hOhj"),it=a("igqZ"),at=a("zQui"),et=a("8rEH"),st=a("5GAg"),nt=a("UqGY"),lt=a("fjoK"),ht=a("A3va"),rt=a("TTF9"),bt=a("RGOs"),ot=a("tl6j"),dt=a("mkRZ"),ct=a("6d+p"),gt=a("oATp"),ut=a("Mwml"),Ot=a("pBi1"),pt=a("AHvR"),mt=a("phW1"),yt=a("UP7b"),ft=a("r0V8"),Ct=a("ohvV");a.d(i,"CharityListModuleNgFactory",(function(){return vt}));var vt=e.Bb(c,[],(function(t){return e.Nb([e.Ob(512,e.l,e.mb,[[8,[g.a,u.a,O.a,p.a,m.b,m.a,y.a,R]],[3,e.l],e.E]),e.Ob(4608,S.o,S.n,[e.A,[2,S.E]]),e.Ob(4608,N.B,N.B,[]),e.Ob(4608,B.c,B.c,[]),e.Ob(4608,x.d,x.d,[]),e.Ob(4608,N.f,N.f,[]),e.Ob(4608,T.d,T.d,[T.j,T.f,e.l,T.i,T.g,e.w,e.G,S.d,j.b,[2,S.i]]),e.Ob(5120,T.k,T.l,[T.d]),e.Ob(5120,H.a,H.b,[T.d]),e.Ob(5120,V.b,V.c,[T.d]),e.Ob(4608,W.e,x.e,[[2,x.i],[2,x.n]]),e.Ob(5120,Y.c,Y.a,[[3,Y.c]]),e.Ob(5120,v.c,v.d,[T.d]),e.Ob(135680,v.e,v.e,[T.d,e.w,[2,S.i],[2,v.b],v.c,[3,v.e],T.f]),e.Ob(5120,Z.d,Z.a,[[3,Z.d]]),e.Ob(4608,q.i,q.i,[]),e.Ob(5120,q.a,q.b,[T.d]),e.Ob(4608,x.c,x.x,[[2,x.h],M.a]),e.Ob(5120,z.c,z.j,[T.d]),e.Ob(4608,C.a,C.a,[]),e.Ob(1073742336,S.c,S.c,[]),e.Ob(1073742336,A.s,A.s,[[2,A.x],[2,A.o]]),e.Ob(1073742336,N.A,N.A,[]),e.Ob(1073742336,N.m,N.m,[]),e.Ob(1073742336,j.a,j.a,[]),e.Ob(1073742336,x.n,x.n,[[2,x.f],[2,W.f]]),e.Ob(1073742336,D.c,D.c,[]),e.Ob(1073742336,B.d,B.d,[]),e.Ob(1073742336,G.e,G.e,[]),e.Ob(1073742336,M.b,M.b,[]),e.Ob(1073742336,J.c,J.c,[]),e.Ob(1073742336,$.c,$.c,[]),e.Ob(1073742336,x.w,x.w,[]),e.Ob(1073742336,Q.c,Q.c,[]),e.Ob(1073742336,N.x,N.x,[]),e.Ob(1073742336,K.a,K.a,[]),e.Ob(1073742336,U.a,U.a,[]),e.Ob(1073742336,x.u,x.u,[]),e.Ob(1073742336,x.s,x.s,[]),e.Ob(1073742336,X.g,X.g,[]),e.Ob(1073742336,tt.c,tt.c,[]),e.Ob(1073742336,T.h,T.h,[]),e.Ob(1073742336,H.d,H.d,[]),e.Ob(1073742336,it.e,it.e,[]),e.Ob(1073742336,at.p,at.p,[]),e.Ob(1073742336,et.m,et.m,[]),e.Ob(1073742336,st.a,st.a,[]),e.Ob(1073742336,V.e,V.e,[]),e.Ob(1073742336,Y.d,Y.d,[]),e.Ob(1073742336,v.k,v.k,[]),e.Ob(1073742336,Z.e,Z.e,[]),e.Ob(1073742336,nt.a,nt.a,[]),e.Ob(1073742336,lt.a,lt.a,[]),e.Ob(1073742336,q.j,q.j,[]),e.Ob(1073742336,x.y,x.y,[]),e.Ob(1073742336,x.p,x.p,[]),e.Ob(1073742336,ht.a,ht.a,[]),e.Ob(1073742336,rt.a,rt.a,[]),e.Ob(1073742336,bt.a,bt.a,[]),e.Ob(1073742336,ot.a,ot.a,[]),e.Ob(1073742336,dt.e,dt.e,[]),e.Ob(1073742336,ct.a,ct.a,[]),e.Ob(1073742336,z.i,z.i,[]),e.Ob(1073742336,z.f,z.f,[]),e.Ob(1073742336,gt.a,gt.a,[]),e.Ob(1073742336,ut.a,ut.a,[]),e.Ob(1073742336,Ot.d,Ot.d,[]),e.Ob(1073742336,Ot.c,Ot.c,[]),e.Ob(1073742336,pt.a,pt.a,[]),e.Ob(1073742336,mt.a,mt.a,[]),e.Ob(1073742336,yt.a,yt.a,[]),e.Ob(1073742336,ft.d,ft.d,[]),e.Ob(1073742336,ft.c,ft.c,[]),e.Ob(1073742336,Ct.a,Ct.a,[]),e.Ob(1073742336,c,c,[]),e.Ob(256,x.g,x.k,[]),e.Ob(1024,A.m,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);