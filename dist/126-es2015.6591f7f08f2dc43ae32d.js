(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{uiRp:function(e,t,i){"use strict";i.r(t);var a=i("8Y7J"),n=i("RliZ"),s=i("9JY2"),b=i("SqtC"),d=i("8uYd"),l=i("DWgq"),c=i("xKpn"),o=i("kB6z");class h extends s.a{constructor(e,t,i,a,n,s){super(),this._bc=e,this._router=t,this._table=i,this._deepLink=a,this._common=n,this._toast=s,this.heading=[{heading:"Screen Name",key:"name",align:"center",content:!0,sort:!0,type:"link",link:`/${b.G}`},{heading:"Screen URL",key:"url",align:"center"},{heading:"Action",key:"status",type:"action",action:[1,3]}],this.subscriptions=[],this.tempList=[]}ngOnInit(){this._bc.setBreadcrumb(d.fc),this.permissionHandler(),this.getDepplinkListing()}permissionHandler(){let e=this._common.getPermissionBySectionId(n.Zb.DEEP_LINKS);Object(l.l)(e)||(e.addEdit||e.deleteBlock?(e.addEdit||(this.permissionClass="removeAddButton",this.heading[this.heading.length-1].action=this.removeAction([1])),e.deleteBlock||(this.heading[this.heading.length-1].action=this.removeAction([3]))):(this.permissionClass="removeAddButton",this.heading.splice(this.heading.length-1,1)))}removeAction(e){return this.heading[this.heading.length-1].action.filter(t=>!e.includes(t))}getDepplinkListing(){this.subscriptions.push(this._deepLink.getDeeplinkList(this.validPageOptions).subscribe(e=>{this.tempList=e.data,this._table.tableRender(e)},()=>{this._table.tableRender({data:[]})}))}addDeeplink(e){this._router.navigate(0==e.id?[`${b.G}/${b.c}`]:[`${b.G}/${b.I}`,e.data._id])}paginationWithSearch(e,t){switch(t){case 0:this.resetPages(),this.search=e,this.tableRef.paginator&&this.tableRef.paginator.firstPage();break;default:this.pageOptionsOnChange=e}this.getDepplinkListing()}sortByListing(e){this.sortOptions=e,this.getDepplinkListing()}changeStatus(e){switch(e.id){case 1:this.addDeeplink(e);break;default:this.changeDeeplinkStatus(e)}}changeDeeplinkStatus(e){this._deepLink.deleteDeeplink({storyId:e.data._id,status:e.action}).subscribe(t=>{e.action==this.API_EVENT.delete&&e.data.s_no>1&&e.data.s_no%this.limit==1&&1==this.tempList.length&&(this.pageNo=this.pageNo-1,this.tableRef.paginator.pageIndex=this.pageNo-1),this.getDepplinkListing(),this._toast.success(t.message)})}ngOnDestroy(){this.subscriptions.length>0&&this._common.unsubscribe(this.subscriptions)}}class r{}var O=i("pMnS"),p=i("NcP4"),u=i("t68o"),g=i("A8YC"),m=i("zbXB"),k=i("7nec"),f=i("d0kF"),v=i("A7ZX"),D=i("s6ns"),_=i("E2f4"),L=i("iInd"),A=i("dfTd"),y=i("++gc"),w=i("A1Tq"),S=i("IrvQ"),B=a.Cb({encapsulation:0,styles:[[""]],data:{}});function E(e){return a.ac(0,[a.Wb(402653184,1,{tableRef:0}),(e()(),a.Eb(1,0,null,null,1,"mat-table-renderer",[["notFound","Deeplinks not added"],["placeholder","Search by Name"]],null,[[null,"status"],[null,"add"],[null,"find"],[null,"page"],[null,"sort"]],(function(e,t,i){var a=!0,n=e.component;return"status"===t&&(a=!1!==n.changeStatus(i)&&a),"add"===t&&(a=!1!==n.addDeeplink(i)&&a),"find"===t&&(a=!1!==n.paginationWithSearch(i,0)&&a),"page"===t&&(a=!1!==n.paginationWithSearch(i,1)&&a),"sort"===t&&(a=!1!==n.sortByListing(i)&&a),a}),f.b,f.a)),a.Db(2,245760,[[1,4]],0,c.a,[v.a,D.e,_.a,L.a,A.a,y.a],{cls:[0,"cls"],heading:[1,"heading"],notFound:[2,"notFound"],placeholder:[3,"placeholder"]},{page:"page",find:"find",sort:"sort",add:"add",status:"status"})],(function(e,t){var i=t.component;e(t,2,0,a.Ib(1,"",i.permissionClass," removeFilter"),i.heading,"Deeplinks not added","Search by Name")}),null)}function I(e){return a.ac(0,[(e()(),a.Eb(0,0,null,null,2,"lv-deeplinks-list",[],null,null,null,E,B)),a.Vb(512,null,o.a,o.a,[w.a]),a.Db(2,245760,null,0,h,[S.a,L.o,v.a,o.a,y.a,A.a],null,null)],(function(e,t){e(t,2,0)}),null)}var N=a.Ab("lv-deeplinks-list",h,I,{},{},[]),R=i("SVse"),P=i("s7LF"),F=i("POq0"),j=i("Xd0L"),G=i("QQfA"),Z=i("IP0z"),x=i("JjoW"),C=i("Mz6y"),H=i("cUpR"),W=i("OIZN"),q=i("7kcP"),z=i("821u"),T=i("/HVE"),V=i("gavF"),J=i("Gi4r"),M=i("HsOI"),Y=i("oapL"),$=i("ZwOa"),K=i("Fwaw"),Q=i("dHPm"),U=i("Z0D0"),X=i("zMNK"),ee=i("hOhj"),te=i("igqZ"),ie=i("zQui"),ae=i("8rEH"),ne=i("5GAg"),se=i("UqGY"),be=i("fjoK"),de=i("A3va"),le=i("TTF9"),ce=i("RGOs"),oe=i("tl6j"),he=i("mkRZ"),re=i("6d+p"),Oe=i("oATp"),pe=i("Mwml"),ue=i("pBi1"),ge=i("AHvR"),me=i("phW1"),ke=i("UP7b"),fe=i("r0V8"),ve=i("ohvV");i.d(t,"DeeplinksListModuleNgFactory",(function(){return De}));var De=a.Bb(r,[],(function(e){return a.Nb([a.Ob(512,a.l,a.mb,[[8,[O.a,p.a,u.a,g.a,m.b,m.a,k.a,N]],[3,a.l],a.E]),a.Ob(4608,R.o,R.n,[a.A,[2,R.E]]),a.Ob(4608,P.B,P.B,[]),a.Ob(4608,F.c,F.c,[]),a.Ob(4608,j.d,j.d,[]),a.Ob(4608,P.f,P.f,[]),a.Ob(4608,G.d,G.d,[G.j,G.f,a.l,G.i,G.g,a.w,a.G,R.d,Z.b,[2,R.i]]),a.Ob(5120,G.k,G.l,[G.d]),a.Ob(5120,x.a,x.b,[G.d]),a.Ob(5120,C.b,C.c,[G.d]),a.Ob(4608,H.e,j.e,[[2,j.i],[2,j.n]]),a.Ob(5120,W.c,W.a,[[3,W.c]]),a.Ob(5120,D.c,D.d,[G.d]),a.Ob(135680,D.e,D.e,[G.d,a.w,[2,R.i],[2,D.b],D.c,[3,D.e],G.f]),a.Ob(5120,q.d,q.a,[[3,q.d]]),a.Ob(4608,z.i,z.i,[]),a.Ob(5120,z.a,z.b,[G.d]),a.Ob(4608,j.c,j.x,[[2,j.h],T.a]),a.Ob(5120,V.c,V.j,[G.d]),a.Ob(4608,v.a,v.a,[]),a.Ob(1073742336,R.c,R.c,[]),a.Ob(1073742336,L.s,L.s,[[2,L.x],[2,L.o]]),a.Ob(1073742336,P.A,P.A,[]),a.Ob(1073742336,P.m,P.m,[]),a.Ob(1073742336,Z.a,Z.a,[]),a.Ob(1073742336,j.n,j.n,[[2,j.f],[2,H.f]]),a.Ob(1073742336,J.c,J.c,[]),a.Ob(1073742336,F.d,F.d,[]),a.Ob(1073742336,M.e,M.e,[]),a.Ob(1073742336,T.b,T.b,[]),a.Ob(1073742336,Y.c,Y.c,[]),a.Ob(1073742336,$.c,$.c,[]),a.Ob(1073742336,j.w,j.w,[]),a.Ob(1073742336,K.c,K.c,[]),a.Ob(1073742336,P.x,P.x,[]),a.Ob(1073742336,Q.a,Q.a,[]),a.Ob(1073742336,U.a,U.a,[]),a.Ob(1073742336,j.u,j.u,[]),a.Ob(1073742336,j.s,j.s,[]),a.Ob(1073742336,X.g,X.g,[]),a.Ob(1073742336,ee.c,ee.c,[]),a.Ob(1073742336,G.h,G.h,[]),a.Ob(1073742336,x.d,x.d,[]),a.Ob(1073742336,te.e,te.e,[]),a.Ob(1073742336,ie.p,ie.p,[]),a.Ob(1073742336,ae.m,ae.m,[]),a.Ob(1073742336,ne.a,ne.a,[]),a.Ob(1073742336,C.e,C.e,[]),a.Ob(1073742336,W.d,W.d,[]),a.Ob(1073742336,D.k,D.k,[]),a.Ob(1073742336,q.e,q.e,[]),a.Ob(1073742336,se.a,se.a,[]),a.Ob(1073742336,be.a,be.a,[]),a.Ob(1073742336,z.j,z.j,[]),a.Ob(1073742336,j.y,j.y,[]),a.Ob(1073742336,j.p,j.p,[]),a.Ob(1073742336,de.a,de.a,[]),a.Ob(1073742336,le.a,le.a,[]),a.Ob(1073742336,ce.a,ce.a,[]),a.Ob(1073742336,oe.a,oe.a,[]),a.Ob(1073742336,he.e,he.e,[]),a.Ob(1073742336,re.a,re.a,[]),a.Ob(1073742336,V.i,V.i,[]),a.Ob(1073742336,V.f,V.f,[]),a.Ob(1073742336,Oe.a,Oe.a,[]),a.Ob(1073742336,pe.a,pe.a,[]),a.Ob(1073742336,ue.d,ue.d,[]),a.Ob(1073742336,ue.c,ue.c,[]),a.Ob(1073742336,ge.a,ge.a,[]),a.Ob(1073742336,me.a,me.a,[]),a.Ob(1073742336,ke.a,ke.a,[]),a.Ob(1073742336,fe.d,fe.d,[]),a.Ob(1073742336,fe.c,fe.c,[]),a.Ob(1073742336,ve.a,ve.a,[]),a.Ob(1073742336,r,r,[]),a.Ob(256,j.g,j.k,[]),a.Ob(1024,L.m,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);