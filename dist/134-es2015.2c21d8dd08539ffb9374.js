(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{"9+cp":function(t,e,a){"use strict";a.r(e);var i=a("8Y7J"),n=a("SqtC"),s=a("xKpn"),r=a("kwfS"),o=a("9JY2"),d=a("8uYd"),b=a("DWgq"),c=a("RliZ");class h extends o.a{constructor(t,e,a,i,s,r){super(),this._bc=t,this._router=e,this._toast=a,this._table=i,this._group=s,this._common=r,this.heading=[{heading:"Group Name",key:"name",sort:!0,type:"link",link:`/${n.O}`},{heading:"User Type",key:"userType",align:"center"},{heading:"Short Name",key:"shortName",align:"center"},{heading:"Limit to Join",key:"userLimit",align:"center"},{heading:"Joined Participants",key:"totalParticipant",align:"center"},{heading:"Privacy",key:"privacy",align:"center"},{heading:"Created On",key:"created",align:"center",type:"date"},{heading:"Action",key:"status",type:"action",action:[1,2,3]}],this.tempList=[],this.subscriptions=[]}ngOnInit(){this._bc.setBreadcrumb(d.kb),this.permissionHandler(),this.getGroupListing()}permissionHandler(){let t=this._common.getPermissionBySectionId(c.Zb.GROUPS);Object(b.l)(t)||(t.addEdit||t.deleteBlock?(t.addEdit||(this.permissionClass="removeAddButton",this.heading[this.heading.length-1].action=this.removeAction([1,5])),t.deleteBlock||(this.heading[this.heading.length-1].action=this.removeAction([2]))):(this.permissionClass="removeAddButton",this.heading.splice(this.heading.length-1,1)))}removeAction(t){return this.heading[this.heading.length-1].action.filter(e=>!t.includes(e))}getGroupListing(){this.subscriptions.push(this._group.getGroupList(this.validPageOptions).subscribe(t=>{this.tempList=t.data,t.data.forEach(t=>{t.name=Object(b.r)(t.name.en),t.userType=t.createdBy&&t.createdBy.userType?t.createdBy.userType:"ADMIN",t.privacy="PUBLIC"==t.privacy?"Public":"Corporate",t.isEdited=!t.createdBy||"USER"!=t.createdBy.userType}),this._table.tableRender(t)},()=>{this._table.tableRender({data:[]})}))}addGroups(t){this._router.navigate(0==t.id?[`${n.O}/${n.c}`]:[`${n.O}/${n.I}`,t.data._id])}paginationWithSearch(t,e){switch(e){case 0:this.resetPages(),this.search=t,this.tableRef.paginator&&this.tableRef.paginator.firstPage();break;default:this.pageOptionsOnChange=t}this.getGroupListing()}sortByListing(t){this.sortOptions=t,this.getGroupListing()}changeStatus(t){switch(t.id){case 1:this.addGroups(t);break;default:this.changeGroupStatus(t)}}changeGroupStatus(t){this._group.deleteGroup({squadId:t.data._id,status:t.action}).subscribe(e=>{t.action==this.API_EVENT.delete&&t.data.s_no>1&&t.data.s_no%this.limit==1&&1==this.tempList.length&&(this.pageNo=this.pageNo-1,this.tableRef.paginator.pageIndex=this.pageNo-1),this.getGroupListing(),this._toast.success(e.message)})}ngOnDestroy(){this.subscriptions.length>0&&this._common.unsubscribe(this.subscriptions)}}class l{}var u=a("pMnS"),p=a("NcP4"),g=a("t68o"),O=a("A8YC"),m=a("zbXB"),y=a("7nec"),f=a("d0kF"),k=a("A7ZX"),v=a("s6ns"),G=a("E2f4"),A=a("iInd"),_=a("dfTd"),B=a("++gc"),L=a("A1Tq"),w=a("IrvQ"),P=i.Cb({encapsulation:0,styles:[[""]],data:{}});function S(t){return i.ac(0,[i.Wb(402653184,1,{tableRef:0}),(t()(),i.Eb(1,0,null,null,1,"mat-table-renderer",[["cls","removeFilter"],["notFound","Groups not added"],["pageType","group"],["placeholder","Search by Group Name"]],null,[[null,"add"],[null,"find"],[null,"page"],[null,"status"],[null,"sort"]],(function(t,e,a){var i=!0,n=t.component;return"add"===e&&(i=!1!==n.addGroups(a)&&i),"find"===e&&(i=!1!==n.paginationWithSearch(a,0)&&i),"page"===e&&(i=!1!==n.paginationWithSearch(a,1)&&i),"status"===e&&(i=!1!==n.changeStatus(a)&&i),"sort"===e&&(i=!1!==n.sortByListing(a)&&i),i}),f.b,f.a)),i.Db(2,245760,[[1,4]],0,s.a,[k.a,v.e,G.a,A.a,_.a,B.a],{pageType:[0,"pageType"],cls:[1,"cls"],heading:[2,"heading"],notFound:[3,"notFound"],placeholder:[4,"placeholder"]},{page:"page",find:"find",sort:"sort",add:"add",status:"status"})],(function(t,e){var a=e.component;t(e,2,0,"group",i.Ib(1,"",a.permissionClass,""),a.heading,"Groups not added","Search by Group Name")}),null)}function N(t){return i.ac(0,[(t()(),i.Eb(0,0,null,null,2,"lv-group-listing",[],null,null,null,S,P)),i.Vb(512,null,r.a,r.a,[L.a]),i.Db(2,245760,null,0,h,[w.a,A.o,_.a,k.a,r.a,B.a],null,null)],(function(t,e){t(e,2,0)}),null)}var T=i.Ab("lv-group-listing",h,N,{},{},[]),E=a("SVse"),I=a("s7LF"),R=a("POq0"),j=a("Xd0L"),C=a("QQfA"),F=a("IP0z"),Z=a("JjoW"),q=a("Mz6y"),x=a("cUpR"),H=a("OIZN"),J=a("7kcP"),U=a("821u"),W=a("/HVE"),D=a("gavF"),M=a("Gi4r"),V=a("HsOI"),z=a("oapL"),Y=a("ZwOa"),$=a("Fwaw"),Q=a("dHPm"),K=a("Z0D0"),X=a("zMNK"),tt=a("hOhj"),et=a("igqZ"),at=a("zQui"),it=a("8rEH"),nt=a("5GAg"),st=a("UqGY"),rt=a("fjoK"),ot=a("A3va"),dt=a("TTF9"),bt=a("RGOs"),ct=a("tl6j"),ht=a("mkRZ"),lt=a("6d+p"),ut=a("oATp"),pt=a("Mwml"),gt=a("pBi1"),Ot=a("AHvR"),mt=a("phW1"),yt=a("UP7b"),ft=a("r0V8"),kt=a("ohvV");a.d(e,"GroupListingModuleNgFactory",(function(){return vt}));var vt=i.Bb(l,[],(function(t){return i.Nb([i.Ob(512,i.l,i.mb,[[8,[u.a,p.a,g.a,O.a,m.b,m.a,y.a,T]],[3,i.l],i.E]),i.Ob(4608,E.o,E.n,[i.A,[2,E.E]]),i.Ob(4608,I.B,I.B,[]),i.Ob(4608,R.c,R.c,[]),i.Ob(4608,j.d,j.d,[]),i.Ob(4608,I.f,I.f,[]),i.Ob(4608,C.d,C.d,[C.j,C.f,i.l,C.i,C.g,i.w,i.G,E.d,F.b,[2,E.i]]),i.Ob(5120,C.k,C.l,[C.d]),i.Ob(5120,Z.a,Z.b,[C.d]),i.Ob(5120,q.b,q.c,[C.d]),i.Ob(4608,x.e,j.e,[[2,j.i],[2,j.n]]),i.Ob(5120,H.c,H.a,[[3,H.c]]),i.Ob(5120,v.c,v.d,[C.d]),i.Ob(135680,v.e,v.e,[C.d,i.w,[2,E.i],[2,v.b],v.c,[3,v.e],C.f]),i.Ob(5120,J.d,J.a,[[3,J.d]]),i.Ob(4608,U.i,U.i,[]),i.Ob(5120,U.a,U.b,[C.d]),i.Ob(4608,j.c,j.x,[[2,j.h],W.a]),i.Ob(5120,D.c,D.j,[C.d]),i.Ob(4608,k.a,k.a,[]),i.Ob(1073742336,E.c,E.c,[]),i.Ob(1073742336,A.s,A.s,[[2,A.x],[2,A.o]]),i.Ob(1073742336,I.A,I.A,[]),i.Ob(1073742336,I.m,I.m,[]),i.Ob(1073742336,F.a,F.a,[]),i.Ob(1073742336,j.n,j.n,[[2,j.f],[2,x.f]]),i.Ob(1073742336,M.c,M.c,[]),i.Ob(1073742336,R.d,R.d,[]),i.Ob(1073742336,V.e,V.e,[]),i.Ob(1073742336,W.b,W.b,[]),i.Ob(1073742336,z.c,z.c,[]),i.Ob(1073742336,Y.c,Y.c,[]),i.Ob(1073742336,j.w,j.w,[]),i.Ob(1073742336,$.c,$.c,[]),i.Ob(1073742336,I.x,I.x,[]),i.Ob(1073742336,Q.a,Q.a,[]),i.Ob(1073742336,K.a,K.a,[]),i.Ob(1073742336,j.u,j.u,[]),i.Ob(1073742336,j.s,j.s,[]),i.Ob(1073742336,X.g,X.g,[]),i.Ob(1073742336,tt.c,tt.c,[]),i.Ob(1073742336,C.h,C.h,[]),i.Ob(1073742336,Z.d,Z.d,[]),i.Ob(1073742336,et.e,et.e,[]),i.Ob(1073742336,at.p,at.p,[]),i.Ob(1073742336,it.m,it.m,[]),i.Ob(1073742336,nt.a,nt.a,[]),i.Ob(1073742336,q.e,q.e,[]),i.Ob(1073742336,H.d,H.d,[]),i.Ob(1073742336,v.k,v.k,[]),i.Ob(1073742336,J.e,J.e,[]),i.Ob(1073742336,st.a,st.a,[]),i.Ob(1073742336,rt.a,rt.a,[]),i.Ob(1073742336,U.j,U.j,[]),i.Ob(1073742336,j.y,j.y,[]),i.Ob(1073742336,j.p,j.p,[]),i.Ob(1073742336,ot.a,ot.a,[]),i.Ob(1073742336,dt.a,dt.a,[]),i.Ob(1073742336,bt.a,bt.a,[]),i.Ob(1073742336,ct.a,ct.a,[]),i.Ob(1073742336,ht.e,ht.e,[]),i.Ob(1073742336,lt.a,lt.a,[]),i.Ob(1073742336,D.i,D.i,[]),i.Ob(1073742336,D.f,D.f,[]),i.Ob(1073742336,ut.a,ut.a,[]),i.Ob(1073742336,pt.a,pt.a,[]),i.Ob(1073742336,gt.d,gt.d,[]),i.Ob(1073742336,gt.c,gt.c,[]),i.Ob(1073742336,Ot.a,Ot.a,[]),i.Ob(1073742336,mt.a,mt.a,[]),i.Ob(1073742336,yt.a,yt.a,[]),i.Ob(1073742336,ft.d,ft.d,[]),i.Ob(1073742336,ft.c,ft.c,[]),i.Ob(1073742336,kt.a,kt.a,[]),i.Ob(1073742336,l,l,[]),i.Ob(256,j.g,j.k,[]),i.Ob(1024,A.m,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);