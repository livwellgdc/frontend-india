(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{"IL+1":function(t,e,a){"use strict";a.r(e);var s=a("8Y7J"),i=a("RliZ"),n=a("9JY2"),l=a("SqtC"),b=a("8uYd"),r=a("DWgq"),o=a("xKpn"),h=a("L9Vz");class c extends n.a{constructor(t,e,a,s,n,b,r){super(),this._bc=t,this._fb=e,this._router=a,this._table=s,this._reels=n,this._common=b,this._toast=r,this.heading=[{heading:"Thumbnail",key:"thumbnail",type:"img",align:"center"},{heading:"Name",key:"name",align:"center",content:!0,sort:!0,type:"link",link:"/".concat(l.cb)},{heading:"Likes",key:"likes",align:"center",sort:!0},{heading:"Shares",key:"shares",align:"center",sort:!0},{heading:"Views",key:"views",align:"center",sort:!0},{heading:"Action",key:"status",type:"action",action:[1,3]}],this.status=i.ec,this.categoryList=[],this.classCategoryList=[],this.subscriptions=[],this.tempList=[]}ngOnInit(){this._bc.setBreadcrumb(b.Jb),this.permissionHandler(),this.status.push({name:"Expired",value:"EXPIRED"}),this.getReelsListing()}createForm(){this.filterForm=this._fb.group({status:[""]})}permissionHandler(){let t=this._common.getPermissionBySectionId(i.Yb.STORIES);Object(r.l)(t)||(t.addEdit||t.deleteBlock?(t.addEdit||(this.permissionClass="removeAddButton",this.heading[this.heading.length-1].action=this.removeAction([1])),t.deleteBlock||(this.heading[this.heading.length-1].action=this.removeAction([3]))):(this.permissionClass="removeAddButton",this.heading.splice(this.heading.length-1,1)))}removeAction(t){return this.heading[this.heading.length-1].action.filter(e=>!t.includes(e))}getReelsListing(){this.subscriptions.push(this._reels.getReelsList(this.validPageOptions).subscribe(t=>{this.tempList=t.data,t.data.forEach(t=>{t.name=Object(r.r)(t.name.en)}),this._table.tableRender(t)},()=>{this._table.tableRender({data:[]})}))}addReels(t){this._router.navigate(0==t.id?["".concat(l.cb,"/").concat(l.c)]:["".concat(l.cb,"/").concat(l.I),t.data._id])}paginationWithSearch(t,e){switch(e){case 0:this.resetPages(),this.search=t,this.tableRef.paginator&&this.tableRef.paginator.firstPage();break;default:this.pageOptionsOnChange=t}this.getReelsListing()}sortByListing(t){this.sortOptions=t,this.getReelsListing()}changeStatus(t){switch(t.id){case 1:this.addReels(t);break;default:this.changeStoryStatus(t)}}changeStoryStatus(t){this._reels.deleteReels({reelsId:t.data._id,status:t.action}).subscribe(e=>{t.action==this.API_EVENT.delete&&t.data.s_no>1&&t.data.s_no%this.limit==1&&1==this.tempList.length&&(this.pageNo=this.pageNo-1,this.tableRef.paginator.pageIndex=this.pageNo-1),this.getReelsListing(),this._toast.success(e.message)})}submitFilter(t){this.filterForm.dirty&&(t.apply?this.filterOptions=this.filterForm.value:(this.filterOptions=null,this.filterForm.reset()),this.resetPages(),this.tableRef.paginator&&this.tableRef.paginator.firstPage(),this.getReelsListing())}ngOnDestroy(){this.status.pop(),this.subscriptions.length>0&&this._common.unsubscribe(this.subscriptions)}}class d{}var u=a("pMnS"),O=a("NcP4"),g=a("t68o"),p=a("A8YC"),m=a("zbXB"),f=a("7nec"),R=a("d0kF"),y=a("A7ZX"),v=a("s6ns"),k=a("E2f4"),_=a("iInd"),L=a("dfTd"),A=a("++gc"),w=a("KzIK"),S=a("A1Tq"),E=a("IrvQ"),F=a("s7LF"),I=s.Cb({encapsulation:0,styles:[[""]],data:{}});function P(t){return s.ac(0,[s.Wb(402653184,1,{tableRef:0}),(t()(),s.Eb(1,0,null,null,2,"mat-table-renderer",[["notFound","Challenges not added"],["placeholder","Search by Reels Name"]],null,[[null,"status"],[null,"add"],[null,"find"],[null,"page"],[null,"sort"],[null,"filter"]],(function(t,e,a){var s=!0,i=t.component;return"status"===e&&(s=!1!==i.changeStatus(a)&&s),"add"===e&&(s=!1!==i.addReels(a)&&s),"find"===e&&(s=!1!==i.paginationWithSearch(a,0)&&s),"page"===e&&(s=!1!==i.paginationWithSearch(a,1)&&s),"sort"===e&&(s=!1!==i.sortByListing(a)&&s),"filter"===e&&(s=!1!==i.submitFilter(a)&&s),s}),R.b,R.a)),s.Db(2,245760,[[1,4]],0,o.a,[y.a,v.e,k.a,_.a,L.a,A.a],{cls:[0,"cls"],heading:[1,"heading"],notFound:[2,"notFound"],placeholder:[3,"placeholder"]},{page:"page",find:"find",sort:"sort",add:"add",status:"status",filter:"filter"}),(t()(),s.Eb(3,0,null,1,0,"div",[["role","filter"]],null,null,null,null,null))],(function(t,e){var a=e.component;t(e,2,0,s.Ib(1,"",a.permissionClass," removeFilter"),a.heading,"Challenges not added","Search by Reels Name")}),null)}var B=s.Ab("lv-reels-list",c,(function(t){return s.ac(0,[(t()(),s.Eb(0,0,null,null,3,"lv-reels-list",[],null,null,null,P,I)),s.Vb(4608,null,w.a,w.a,[S.a]),s.Vb(512,null,h.a,h.a,[S.a]),s.Db(3,245760,null,0,c,[E.a,F.f,_.o,y.a,h.a,A.a,L.a],null,null)],(function(t,e){t(e,3,0)}),null)}),{},{},[]),N=a("SVse"),j=a("POq0"),C=a("Xd0L"),V=a("QQfA"),x=a("IP0z"),T=a("JjoW"),z=a("Mz6y"),H=a("cUpR"),W=a("OIZN"),Z=a("7kcP"),q=a("821u"),D=a("/HVE"),J=a("gavF"),Y=a("Gi4r"),G=a("HsOI"),K=a("oapL"),M=a("ZwOa"),Q=a("Fwaw"),X=a("dHPm"),U=a("Z0D0"),$=a("zMNK"),tt=a("hOhj"),et=a("igqZ"),at=a("zQui"),st=a("8rEH"),it=a("5GAg"),nt=a("UqGY"),lt=a("fjoK"),bt=a("A3va"),rt=a("TTF9"),ot=a("RGOs"),ht=a("tl6j"),ct=a("mkRZ"),dt=a("6d+p"),ut=a("oATp"),Ot=a("Mwml"),gt=a("pBi1"),pt=a("AHvR"),mt=a("phW1"),ft=a("UP7b"),Rt=a("r0V8"),yt=a("ohvV");a.d(e,"ReelsListModuleNgFactory",(function(){return vt}));var vt=s.Bb(d,[],(function(t){return s.Nb([s.Ob(512,s.l,s.mb,[[8,[u.a,O.a,g.a,p.a,m.b,m.a,f.a,B]],[3,s.l],s.E]),s.Ob(4608,N.o,N.n,[s.A,[2,N.E]]),s.Ob(4608,F.B,F.B,[]),s.Ob(4608,j.c,j.c,[]),s.Ob(4608,C.d,C.d,[]),s.Ob(4608,F.f,F.f,[]),s.Ob(4608,V.d,V.d,[V.j,V.f,s.l,V.i,V.g,s.w,s.G,N.d,x.b,[2,N.i]]),s.Ob(5120,V.k,V.l,[V.d]),s.Ob(5120,T.a,T.b,[V.d]),s.Ob(5120,z.b,z.c,[V.d]),s.Ob(4608,H.e,C.e,[[2,C.i],[2,C.n]]),s.Ob(5120,W.c,W.a,[[3,W.c]]),s.Ob(5120,v.c,v.d,[V.d]),s.Ob(135680,v.e,v.e,[V.d,s.w,[2,N.i],[2,v.b],v.c,[3,v.e],V.f]),s.Ob(5120,Z.d,Z.a,[[3,Z.d]]),s.Ob(4608,q.i,q.i,[]),s.Ob(5120,q.a,q.b,[V.d]),s.Ob(4608,C.c,C.x,[[2,C.h],D.a]),s.Ob(5120,J.c,J.j,[V.d]),s.Ob(4608,y.a,y.a,[]),s.Ob(1073742336,N.c,N.c,[]),s.Ob(1073742336,_.s,_.s,[[2,_.x],[2,_.o]]),s.Ob(1073742336,F.A,F.A,[]),s.Ob(1073742336,F.m,F.m,[]),s.Ob(1073742336,x.a,x.a,[]),s.Ob(1073742336,C.n,C.n,[[2,C.f],[2,H.f]]),s.Ob(1073742336,Y.c,Y.c,[]),s.Ob(1073742336,j.d,j.d,[]),s.Ob(1073742336,G.e,G.e,[]),s.Ob(1073742336,D.b,D.b,[]),s.Ob(1073742336,K.c,K.c,[]),s.Ob(1073742336,M.c,M.c,[]),s.Ob(1073742336,C.w,C.w,[]),s.Ob(1073742336,Q.c,Q.c,[]),s.Ob(1073742336,F.x,F.x,[]),s.Ob(1073742336,X.a,X.a,[]),s.Ob(1073742336,U.a,U.a,[]),s.Ob(1073742336,C.u,C.u,[]),s.Ob(1073742336,C.s,C.s,[]),s.Ob(1073742336,$.g,$.g,[]),s.Ob(1073742336,tt.c,tt.c,[]),s.Ob(1073742336,V.h,V.h,[]),s.Ob(1073742336,T.d,T.d,[]),s.Ob(1073742336,et.e,et.e,[]),s.Ob(1073742336,at.p,at.p,[]),s.Ob(1073742336,st.m,st.m,[]),s.Ob(1073742336,it.a,it.a,[]),s.Ob(1073742336,z.e,z.e,[]),s.Ob(1073742336,W.d,W.d,[]),s.Ob(1073742336,v.k,v.k,[]),s.Ob(1073742336,Z.e,Z.e,[]),s.Ob(1073742336,nt.a,nt.a,[]),s.Ob(1073742336,lt.a,lt.a,[]),s.Ob(1073742336,q.j,q.j,[]),s.Ob(1073742336,C.y,C.y,[]),s.Ob(1073742336,C.p,C.p,[]),s.Ob(1073742336,bt.a,bt.a,[]),s.Ob(1073742336,rt.a,rt.a,[]),s.Ob(1073742336,ot.a,ot.a,[]),s.Ob(1073742336,ht.a,ht.a,[]),s.Ob(1073742336,ct.e,ct.e,[]),s.Ob(1073742336,dt.a,dt.a,[]),s.Ob(1073742336,J.i,J.i,[]),s.Ob(1073742336,J.f,J.f,[]),s.Ob(1073742336,ut.a,ut.a,[]),s.Ob(1073742336,Ot.a,Ot.a,[]),s.Ob(1073742336,gt.d,gt.d,[]),s.Ob(1073742336,gt.c,gt.c,[]),s.Ob(1073742336,pt.a,pt.a,[]),s.Ob(1073742336,mt.a,mt.a,[]),s.Ob(1073742336,ft.a,ft.a,[]),s.Ob(1073742336,Rt.d,Rt.d,[]),s.Ob(1073742336,Rt.c,Rt.c,[]),s.Ob(1073742336,yt.a,yt.a,[]),s.Ob(1073742336,d,d,[]),s.Ob(256,C.g,C.k,[]),s.Ob(1024,_.m,(function(){return[[{path:"",component:c}]]}),[])])}))}}]);