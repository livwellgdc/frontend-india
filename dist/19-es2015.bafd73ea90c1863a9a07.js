(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"9JY2":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));class l{constructor(){this.API_EVENT={defaultLimit:100,delete:"DELETED",active:"UN_BLOCKED",block:"BLOCKED",all:"ALL",ongoing:"ONGOING",upcoming:"UPCOMING",ended:"ENDED",expired:"EXPIRED",confirmed:"CONFIRMED",complete:"COMPLETE",incomplete:"INCOMPLETE",cancelled:"CANCELLED",pending:"PENDING",quickLinks:"QUICK_LINKS",generic:"GENERIC_CATEGORIES",class:"CLASS",event:"EVENT",challenge:"CHALLENGE",livwellBenifit:"LIVWELL_BENEFITS",fitnessVideo:"FITNESS_VIDEO",joining:"JOINING",health:"HEALTH",reward:"REWARD",healthHistory:"HEALTH_HISTORY",rewardHistory:"REWARD_HISTORY",pointHistory:"POINT_HISTORY",loginHistory:"LOGIN_HISTORY",badgeHistory:"BADGE_HISTORY",challengeHistory:"CHALANGE_HISTORY",approved:"APPROVED",rejected:"REJECTED"},this.today=new Date,this.nextHit=2,this.sortBy="created",this.sortOrder="-1",this.permissionClass="",this.viewPermission=!0,this.total=0,this.pageNo=1,this.limit=10,this.pageOptions=[5,10,25,100]}get pageParams(){return{pageNo:this.pageNo,limit:this.limit}}get searchFilter(){return{searchKey:this.search}}get sortHeaders(){return{sortBy:this.sortBy,sortOrder:this.sortOrder}}get typeOf(){return{type:this.type,status:this.statusType}}confirmPageReload(){}allPrams(){return Object.assign({},this.typeOf,this.pageParams,this.filterOptions,this.searchFilter,this.sortHeaders)}normalPrams(){return Object.assign({},this.pageParams,this.filterOptions,this.searchFilter)}validateDeletion(){1!==this.total&&this.total-(this.pageNo-1)*this.limit==1&&(this.pageNo--,this.total--)}get validPageOptions(){const t=this.allPrams(),e={};for(const n of Object.keys(t))(t[n]||0===t[n])&&(e[n]=t[n]);return e}get params(){const t=this.normalPrams(),e={};for(const n of Object.keys(t))(t[n]||0===t[n])&&(e[n]=t[n]);return e}set pageOptionsOnChange(t){this.pageNo=t.pageIndex+1,this.limit=t.pageSize}set sortOptions(t){t.direction?(this.sortBy=t.active,this.sortOrder="asc"===t.direction?"1":"-1"):(this.sortBy=null,this.sortOrder=null)}currentIndex(t){return(this.pageNo-1)*this.limit+t+1}resetPages(){this.pageNo=1,this.nextHit=2}}},Cdor:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));class l{}},ID98:function(t,e,n){"use strict";var l=n("8Y7J"),i=n("bujt"),o=n("Fwaw"),r=n("5GAg"),a=n("omvX"),s=n("Mr+X"),u=n("Gi4r"),c=n("SVse"),h=n("zl9O"),p=n("cUpR");n("kqMt"),n("dfTd"),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return C}));var d=l.Cb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:stretch;justify-content:stretch;-webkit-transition:.3s ease-in-out;transition:all .3s ease-in-out}.uploader__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.uploader__label[_ngcontent-%COMP%]{color:#444;font-size:16px;margin:10px 0}.uploader__body[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.02);border:1px dashed rgba(144,9,104,.39);min-width:100%;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.uploader__body--active[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.8)}.uploader__placeholder[_ngcontent-%COMP%]{height:300px;width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;font-size:18px;color:rgba(0,0,0,.3);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:10px}.uploader__placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:50px;width:50px;height:48px}.uploader__preview[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow-x:auto;overflow-y:hidden;text-align:center;white-space:nowrap}.uploader__file[_ngcontent-%COMP%]{display:inline-block;margin:5px;height:300px;border:1px solid #fff;-webkit-transition:.3s ease-in-out;transition:all .3s ease-in-out;box-shadow:0 0 5px rgba(0,0,0,.2);position:relative;cursor:pointer}.uploader__file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .uploader__file[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{height:100%;width:100%;-o-object-fit:cover;object-fit:cover;-webkit-transition:.3s ease-in-out;transition:all .3s ease-in-out}.uploader__file[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px rgba(0,0,0,.5)}.uploader__file[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{-webkit-filter:blur(.7px);filter:blur(.7px)}.uploader__file[_ngcontent-%COMP%]:hover   .file-button[_ngcontent-%COMP%]{opacity:1}.file-button[_ngcontent-%COMP%]{position:absolute;right:0;top:0;opacity:0;-webkit-transition:opacity .3s linear;transition:opacity .3s linear}.file-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2px;background-color:#fff;box-shadow:0 0 2px rgba(0,0,0,.2);height:28px!important;width:28px!important;line-height:28px!important}.file-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px!important;height:18px!important;width:18px!important;line-height:18px!important}.file-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:hover){color:#900968!important}.file-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:0 0 3px rgba(0,0,0,.2)}.uploader__error[_ngcontent-%COMP%]{display:block;padding:10px;height:0;color:red;font-size:14px;opacity:0}.uploader__error--show[_ngcontent-%COMP%]{-webkit-animation:.3s ease-in-out forwards animate-error;animation:.3s ease-in-out forwards animate-error}@-webkit-keyframes animate-error{0%{opacity:0;height:0}60%{opacity:0;height:34px}100%{opacity:1;height:34px}}@keyframes animate-error{0%{opacity:0;height:0}60%{opacity:0;height:34px}100%{opacity:1;height:34px}}.customPlaceholder[_ngcontent-%COMP%]{color:#913868!important;background:#e2e2e2}.customCss[_ngcontent-%COMP%]{box-shadow:0 0 2px 0 #00000052;border:none}"]],data:{}});function m(t){return l.ac(0,[(t()(),l.Eb(0,0,null,null,1,"span",[["class","uploader__label span-images"]],null,null,null,null,null)),(t()(),l.Yb(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.label)}))}function b(t){return l.ac(0,[(t()(),l.Eb(0,0,null,null,4,"button",[["color","primary"],["mat-button",""],["mat-icon-button",""],["title","Add Files"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.onAddFileHandler()&&l),l}),i.b,i.a)),l.Db(1,180224,null,0,o.b,[l.n,r.h,[2,a.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(t()(),l.Eb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,s.b,s.a)),l.Db(3,9158656,null,0,u.b,[l.n,u.d,[8,null],[2,u.a],[2,l.o]],null,null),(t()(),l.Yb(-1,0,["add_box"]))],(function(t,e){t(e,1,0,e.component.disabled,"primary"),t(e,3,0)}),(function(t,e){t(e,0,0,l.Qb(e,1).disabled||null,"NoopAnimations"===l.Qb(e,1)._animationMode),t(e,2,0,l.Qb(e,3).inline,"primary"!==l.Qb(e,3).color&&"accent"!==l.Qb(e,3).color&&"warn"!==l.Qb(e,3).color)}))}function g(t){return l.ac(0,[(t()(),l.Eb(0,0,null,null,8,"div",[],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.onAddFileHandler()&&l),l}),null,null)),l.Vb(512,null,c.z,c.A,[l.y,l.z,l.n,l.N]),l.Db(2,278528,null,0,c.k,[c.z],{ngClass:[0,"ngClass"]},null),l.Tb(3,{customPlaceholder:0,uploader__placeholder:1}),(t()(),l.Eb(4,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,s.b,s.a)),l.Db(5,9158656,null,0,u.b,[l.n,u.d,[8,null],[2,u.a],[2,l.o]],null,null),(t()(),l.Yb(-1,0,["cloud_upload"])),(t()(),l.Eb(7,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),l.Yb(8,null,["",""]))],(function(t,e){var n=e.component,l=t(e,3,0,n.addCustomCss,n.addCustomCss);t(e,2,0,l),t(e,5,0)}),(function(t,e){var n=e.component;t(e,4,0,l.Qb(e,5).inline,"primary"!==l.Qb(e,5).color&&"accent"!==l.Qb(e,5).color&&"warn"!==l.Qb(e,5).color),t(e,8,0,n.overlayText)}))}function f(t){return l.ac(0,[(t()(),l.Eb(0,0,null,null,1,"img",[],[[8,"src",4]],null,null,null,null)),l.Ub(1,2)],null,(function(t,e){var n=l.Zb(e,0,0,t(e,1,0,l.Qb(e.parent.parent.parent,0),null==e.parent.context.$implicit?null:e.parent.context.$implicit.url,"url"));t(e,0,0,n)}))}function _(t){return l.ac(0,[(t()(),l.Eb(0,0,[[1,0],["myVideo",1]],null,7,"video",[["controls",""],["id","upload-video"]],null,[[null,"canplay"]],(function(t,e,n){var l=!0;return"canplay"===e&&(l=!1!==t.component.onCanPlayHandler(t.parent.context.$implicit,n.currentTarget)&&l),l}),null,null)),(t()(),l.Eb(1,0,null,null,6,null,null,null,null,null,null,null)),(t()(),l.Eb(2,0,null,null,1,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null)),l.Ub(3,2),(t()(),l.Eb(4,0,null,null,1,"source",[["type","video/3gp"]],[[8,"src",4]],null,null,null,null)),l.Ub(5,2),(t()(),l.Eb(6,0,null,null,1,"source",[["type","video/flv"]],[[8,"src",4]],null,null,null,null)),l.Ub(7,2)],null,(function(t,e){var n=l.Zb(e,2,0,t(e,3,0,l.Qb(e.parent.parent.parent,0),null==e.parent.context.$implicit?null:e.parent.context.$implicit.url,"url"));t(e,2,0,n);var i=l.Zb(e,4,0,t(e,5,0,l.Qb(e.parent.parent.parent,0),null==e.parent.context.$implicit?null:e.parent.context.$implicit.url,"url"));t(e,4,0,i);var o=l.Zb(e,6,0,t(e,7,0,l.Qb(e.parent.parent.parent,0),null==e.parent.context.$implicit?null:e.parent.context.$implicit.url,"url"));t(e,6,0,o)}))}function v(t){return l.ac(0,[(t()(),l.Eb(0,0,[[2,0],["myAudio",1]],null,7,"audio",[["controls",""],["id","upload-audio"]],null,null,null,null,null)),(t()(),l.Eb(1,0,null,null,6,null,null,null,null,null,null,null)),(t()(),l.Eb(2,0,null,null,1,"source",[["type","audio/mp3"]],[[8,"src",4]],null,null,null,null)),l.Ub(3,2),(t()(),l.Eb(4,0,null,null,1,"source",[["type","audio/mpeg"]],[[8,"src",4]],null,null,null,null)),l.Ub(5,2),(t()(),l.Eb(6,0,null,null,1,"source",[["type","audio/wav"]],[[8,"src",4]],null,null,null,null)),l.Ub(7,2)],null,(function(t,e){var n=l.Zb(e,2,0,t(e,3,0,l.Qb(e.parent.parent.parent,0),null==e.parent.context.$implicit?null:e.parent.context.$implicit.url,"url"));t(e,2,0,n);var i=l.Zb(e,4,0,t(e,5,0,l.Qb(e.parent.parent.parent,0),null==e.parent.context.$implicit?null:e.parent.context.$implicit.url,"url"));t(e,4,0,i);var o=l.Zb(e,6,0,t(e,7,0,l.Qb(e.parent.parent.parent,0),null==e.parent.context.$implicit?null:e.parent.context.$implicit.url,"url"));t(e,6,0,o)}))}function x(t){return l.ac(0,[(t()(),l.Eb(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),l.Eb(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,1,0,"../../../assets/images/dummy_pdf.jpeg")}))}function y(t){return l.ac(0,[(t()(),l.Eb(0,0,null,null,4,"button",[["color","warn"],["mat-icon-button",""],["title","Remove File"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.onRemoveFileHandler(t.parent.context.$implicit)&&l),l}),i.b,i.a)),l.Db(1,180224,null,0,o.b,[l.n,r.h,[2,a.a]],{color:[0,"color"]},null),(t()(),l.Eb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,s.b,s.a)),l.Db(3,9158656,null,0,u.b,[l.n,u.d,[8,null],[2,u.a],[2,l.o]],null,null),(t()(),l.Yb(-1,0,["delete"]))],(function(t,e){t(e,1,0,"warn"),t(e,3,0)}),(function(t,e){t(e,0,0,l.Qb(e,1).disabled||null,"NoopAnimations"===l.Qb(e,1)._animationMode),t(e,2,0,l.Qb(e,3).inline,"primary"!==l.Qb(e,3).color&&"accent"!==l.Qb(e,3).color&&"warn"!==l.Qb(e,3).color)}))}function O(t){return l.ac(0,[(t()(),l.Eb(0,0,null,null,13,"div",[["class","uploader__file"]],null,null,null,null,null)),(t()(),l.Eb(1,0,null,null,12,null,null,null,null,null,null,null)),l.Db(2,16384,null,0,c.q,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),l.tb(16777216,null,null,1,null,f)),l.Db(4,278528,null,0,c.r,[l.Z,l.V,c.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),l.tb(16777216,null,null,1,null,_)),l.Db(6,278528,null,0,c.r,[l.Z,l.V,c.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),l.tb(16777216,null,null,1,null,v)),l.Db(8,278528,null,0,c.r,[l.Z,l.V,c.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),l.tb(16777216,null,null,1,null,x)),l.Db(10,16384,null,0,c.s,[l.Z,l.V,c.q],null,null),(t()(),l.Eb(11,0,null,null,2,"div",[["class","file-button"]],null,null,null,null,null)),(t()(),l.tb(16777216,null,null,1,null,y)),l.Db(13,16384,null,0,c.m,[l.Z,l.V],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,l=null==e.context.$implicit?null:null==e.context.$implicit.type?null:e.context.$implicit.type.split("/")[0];t(e,2,0,l),t(e,4,0,"image"),t(e,6,0,"video"),t(e,8,0,"audio"),t(e,13,0,!n.disabled)}),null)}function w(t){return l.ac(0,[(t()(),l.Eb(0,0,null,null,5,"div",[],null,null,null,null,null)),l.Vb(512,null,c.z,c.A,[l.y,l.z,l.n,l.N]),l.Db(2,278528,null,0,c.k,[c.z],{ngClass:[0,"ngClass"]},null),l.Tb(3,{customCss:0,uploader__preview:1}),(t()(),l.tb(16777216,null,null,1,null,O)),l.Db(5,278528,null,0,c.l,[l.Z,l.V,l.y],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component,l=t(e,3,0,n.addCustomCss,n.addCustomCss);t(e,2,0,l),t(e,5,0,n.data)}),null)}function C(t){return l.ac(0,[l.Sb(0,h.a,[p.b]),l.Wb(671088640,1,{myVideo:1}),l.Wb(671088640,2,{myAudio:1}),(t()(),l.Eb(3,0,null,null,4,"div",[["class","uploader__header"]],null,null,null,null,null)),(t()(),l.tb(16777216,null,null,1,null,m)),l.Db(5,16384,null,0,c.m,[l.Z,l.V],{ngIf:[0,"ngIf"]},null),(t()(),l.tb(16777216,null,null,1,null,b)),l.Db(7,16384,null,0,c.m,[l.Z,l.V],{ngIf:[0,"ngIf"]},null),(t()(),l.Eb(8,0,null,null,7,"div",[],null,[[null,"drop"],[null,"dragenter"],[null,"dragover"],[null,"dragleave"]],(function(t,e,n){var l=!0,i=t.component;return"drop"===e&&(l=!1!==i.onDropHandler(n)&&l),"dragenter"===e&&(l=!1!==i.onDragEnterHandler(n)&&l),"dragover"===e&&(l=!1!==i.onDragOverHandler(n)&&l),"dragleave"===e&&(l=!1!==i.onDragLeaveHandler(n)&&l),l}),null,null)),l.Vb(512,null,c.z,c.A,[l.y,l.z,l.n,l.N]),l.Db(10,278528,null,0,c.k,[c.z],{ngClass:[0,"ngClass"]},null),l.Tb(11,{customCss:0,uploader__body:1}),(t()(),l.tb(16777216,null,null,1,null,g)),l.Db(13,16384,null,0,c.m,[l.Z,l.V],{ngIf:[0,"ngIf"]},null),(t()(),l.tb(16777216,null,null,1,null,w)),l.Db(15,16384,null,0,c.m,[l.Z,l.V],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.label),t(e,7,0,n.hasMultiple);var l=t(e,11,0,n.addCustomCss,n.addCustomCss);t(e,10,0,l),t(e,13,0,0===n.data.length),t(e,15,0,0!==n.data.length)}),null)}},IKYA:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));class l{}},kqMt:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var l=n("mrSG"),i=n("8Y7J"),o=n("quSY"),r=n("XNiG"),a=n("RliZ");class s{constructor(t,e){this._toast=e,this.addCustomCss=!1,this.addLivwellVideoCss=!1,this.overlayText="Choose Any Media File",this._validators=[],this.VIDEO_FORMAT=a.yc,this.IMAGE_FORMAT=a.jb,this.AUDIO_FORMAT=a.g,this.IMAGE_ERROR=Object(a.Ac)(),this.VIDEO_ERROR=Object(a.Bc)(),this.AUDIO_ERROR=Object(a.zc)(),this.subscription=new o.a,this._store=[],this.duration=0,this.isDropActive=!1,this.error=null,this.stateChange=new i.p,this.errorMessage="",this.forClass=!1,this.disabled=!1,this._maxFiles=10,this._accept="image/jpeg,image/png,video/mp4",this.fileChangeHandler=this.onFileChangeHandler.bind(this),this._canvas=t.createElement("canvas"),this._input=t.createElement("input"),this._input.type="file",this._input.addEventListener("change",this.fileChangeHandler,!1)}get data(){return this._store}get filesToUpload(){return this._store.filter(t=>!t.uploaded)}get uploadedUrls(){return this._store.filter(t=>t.uploaded).map(t=>t.url)}get files(){return this._store.map(t=>t.file)}get isFilesExceed(){return this.maxFiles>=this._store.length}get hasMultiple(){return this._input&&this._input.multiple}set accept(t){this._accept=this[t]||t,this._input.accept=this[t]||t}set maxFiles(t){this._maxFiles=t,this._input.multiple=t>1}set urls(t){this._fetchImages(t).then(e=>{Promise.all(e.map(t=>t.blob())).then(e=>{const n=[];e.forEach((e,l)=>{const i=new File([e],"file");n.push(new u(i,t[l]))}),this._store=n})})}onFileChangeHandler(t){const e=t.currentTarget;this._fileHandler(e.files),e.value="",this.stateChange.next()}_fileHandler(t,e){return l.__awaiter(this,void 0,void 0,(function*(){for(let n=0;n<t.length;n++){const l=e?t[n]:t.item(n);let i,o=this[this._accept]||this._accept;if(this.IMAGE_FORMAT.split(",").indexOf(l.type)>=0&&(i=a.wb),this.VIDEO_FORMAT.split(",").indexOf(l.type)>=0&&(i=a.xb),this.AUDIO_FORMAT.split(",").indexOf(l.type)>=0&&(i=a.vb),o&&-1===o.split(",").indexOf(l.type))return this.error=this[this.errorMessage]||this.errorMessage,void this._toast.error(this.error);if(i&&i<l.size/1024/1024)return this._toast.error(`File size must be less than ${i}MB.`),void(this.error=`File size must be less than ${i}MB`);if(this._store.some(t=>t.file.name===l.name))return void(this.error="File is already added.");if(this.error=null,this._maxFiles&&this._maxFiles<t.length+this._store.length)return this._toast.error(`No. of Files must be less than or equal to ${this._maxFiles}.`),void(this.error=`No. of Files must be less than or equal to ${this._maxFiles}.`);if(this.maxImageFiles&&l.type.startsWith("image")&&this._store.filter(t=>t.type.startsWith("image")).length==this.maxImageFiles){let t=`No. of Images must be less than or equal to ${this.maxImageFiles}.`;return this._toast.error(t),void(this.error=t)}if(this.maxVideoFiles&&l.type.startsWith("video")&&this._store.filter(t=>t.type.startsWith("video")).length==this.maxVideoFiles){let t=`No. of Videos must be less than or equal to ${this.maxVideoFiles}.`;return this._toast.error(t),void(this.error=t)}const r=new u(l);this.subscription.add(r.onload.subscribe(()=>{Promise.all(this._validators.map(t=>t(r))).then(t=>{t.every(t=>t)&&(this.VIDEO_FORMAT.split(",").indexOf(l.type)>=0&&this.forClass?this.checkVideoDuration(r):this.IMAGE_FORMAT.split(",").indexOf(l.type)>=0&&this.forClass?this.checkMaximumImages(r):this.AUDIO_FORMAT.split(",").indexOf(l.type)>=0&&this.forClass?this.checkAudioDuration(r):this._store.push(r))}).catch(t=>{this.error=t})}))}}))}checkMaximumImages(t){let e=this._store.filter(t=>this.IMAGE_FORMAT.split(",").indexOf(t.type)>=0);e&&e.length>=1?this._toast.error("You can add maximum 1 thumbnail"):this._store.push(t)}checkVideoDuration(t){var e=document.createElement("video");e.preload="metadata",e.setAttribute("id","vid"),e.onloadedmetadata=()=>{window.URL.revokeObjectURL(e.src),this._store.push(t)},e.src=URL.createObjectURL(t.file)}checkAudioDuration(t){var e=document.createElement("audio");e.preload="metadata",e.setAttribute("id","aud"),e.onloadedmetadata=()=>{window.URL.revokeObjectURL(e.src),this._store.push(t)},e.src=URL.createObjectURL(t.file)}onCanPlayHandler(t,e){try{this.createThumbnail(e,`${t.id}.png`).then(e=>{t.thumbnail=e})}catch(n){}}onCreateThumbnailHandler(t,e){try{const n=e.querySelector("video");this.createThumbnail(n).then(e=>{t.thumbnail=e})}catch(n){}}_fetchImages(t){const e=[];return t.forEach(t=>{const n=new Request(t);e.push(fetch(n,{method:"GET",mode:"no-cors",cache:"default"}))}),Promise.all(e)}ngOnInit(){}onRemoveFileHandler(t){const e=this._store.indexOf(t);-1!==e&&this._store.splice(e,1),this.error="",this.stateChange.emit()}onAddFileHandler(){this._maxFiles&&this._store.length===this._maxFiles?this._toast.error(`No. of Files must be less than or equal to ${this._maxFiles}.`):this._input.click()}onDragEnterHandler(t){t.stopPropagation(),t.preventDefault(),this.isDropActive=!0}onDragOverHandler(t){t.stopPropagation(),t.preventDefault(),this.isDropActive=!0}onDragLeaveHandler(t){t.stopPropagation(),t.preventDefault(),this.isDropActive=!1}onDropHandler(t){t.stopPropagation(),t.preventDefault(),this.isDropActive=!1,this._fileHandler(t.dataTransfer.files)}reset(){this._store=[]}validate(t){t&&"function"==typeof t&&this._validators.push(t)}createThumbnail(t,e="thumbnail.png"){try{return new Promise((n,l)=>{const i=this._canvas.getContext("2d");this._canvas.height=t.videoHeight,this._canvas.width=t.videoWidth,i.drawImage(t,0,0,t.videoWidth,t.videoHeight),this._canvas.toBlob(t=>{const l=new File([t],e,{type:"image/png"});n(l)})})}catch(n){}}ngOnDestroy(){this._input.removeEventListener("change",this.fileChangeHandler,!1)}}class u{constructor(t,e=null){if(this.file=t,this.uploaded=!1,this.url=null,this.type=null,this.id=`${btoa(Date.now().toString())}.${Date.now()}`,this._readComplete=new r.a,this.onload=this._readComplete.asObservable(),this._imageElement=document.createElement("img"),this._canvasElement=document.createElement("canvas"),e){const t=e.substr(e.lastIndexOf(".")+1);-1!==["jpg","jpeg","png"].indexOf(t)&&(this.type=`image/${t}`),-1!==["mp4","3gp","flv","mov"].indexOf(t)&&(this.type=`video/${t}`),-1!==["mp3","mpeg","wav"].indexOf(t)&&(this.type=`audio/${t}`),this.url=e,this.uploaded=!0}else{this.type=t.type;const e=new FileReader;e.onload=t=>{this.url=t.target.result,this._readComplete.next(),this._readComplete.complete(),this.createImageThumnail(this.url,50,50)},e.readAsDataURL(t)}}createImageThumnail(t,e,n){return new Promise((l,i)=>{const o=this._canvasElement.getContext("2d");this._canvasElement.height=e,this._canvasElement.width=n,this._imageElement.src=t,o.drawImage(this._imageElement,0,0,e,n),this._canvasElement.toBlob(t=>{const e=new File([t],name,{type:"image/png"});this.thumbnail=e})})}}},zl9O:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));class l{constructor(t){this._sanitizer=t}transform(t,e){switch(e){case"html":return this._sanitizer.bypassSecurityTrustHtml(t);case"style":return this._sanitizer.bypassSecurityTrustStyle(t);case"script":return this._sanitizer.bypassSecurityTrustScript(t);case"url":return this._sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`Invalid safe type specified: ${e}`)}}}}}]);