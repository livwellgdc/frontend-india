(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{"6zql":function(t,i,e){"use strict";e.r(i);var a=e("8Y7J"),n=e("9JY2"),s=e("Yp8W"),b=e("8uYd"),l=e("SqtC"),c=e("DWgq"),d=e("RliZ"),o=e("xKpn");class h extends n.a{constructor(t,i,e,a,n,s){super(),this._bc=t,this._router=i,this._table=e,this._clientClub=a,this._common=n,this._toast=s,this.heading=[{heading:"Client Name",key:"name",content:!0,sort:!0,type:"link",link:"/".concat(l.z)},{heading:"Points Purchased",key:"points",align:"center"},{heading:"Remaining Points",key:"pointsRemaining",align:"center"},{heading:"Points Distribution Freq.",key:"frequencyType",align:"center",type:"formatStatus"},{heading:"Points Distribution Status",key:"status",align:"center",type:"formatStatus"},{heading:"Action",key:"status",type:"action",action:[1,3]}],this.subscriptions=[],this.tempList=[]}ngOnInit(){this._bc.setBreadcrumb(b.N),this.permissionHandler(),this.getClientClubListing()}permissionHandler(){let t=this._common.getPermissionBySectionId(d.Zb.CLIENTS);Object(c.l)(t)||(t.addEdit||t.deleteBlock?(t.addEdit||(this.permissionClass="removeAddButton",this.heading[this.heading.length-1].action=this.removeAction([1])),t.deleteBlock||(this.heading[this.heading.length-1].action=this.removeAction([3]))):(this.permissionClass="removeAddButton",this.heading.splice(this.heading.length-1,1)))}removeAction(t){return this.heading[this.heading.length-1].action.filter(i=>!t.includes(i))}getClientClubListing(){this.subscriptions.push(this._clientClub.getClientClubList(this.validPageOptions).subscribe(t=>{this.tempList=t.data,this._table.tableRender(t)},()=>{this._table.tableRender({data:[]})}))}addClientClubs(t){this._router.navigate(0==t.id?["".concat(l.z,"/").concat(l.c)]:["".concat(l.z,"/").concat(l.I),t.data._id])}paginationWithSearch(t,i){switch(i){case 0:this.resetPages(),this.search=t,this.tableRef.paginator&&this.tableRef.paginator.firstPage();break;default:this.pageOptionsOnChange=t}this.getClientClubListing()}sortByListing(t){this.sortOptions=t,this.getClientClubListing()}changeStatus(t){switch(t.id){case 1:this.addClientClubs(t);break;default:this.changeClientClubStatus(t)}}changeClientClubStatus(t){this._clientClub.deleteClientClub({clientId:t.data._id,status:t.action}).subscribe(i=>{t.action==this.API_EVENT.delete&&t.data.s_no>1&&t.data.s_no%this.limit==1&&1==this.tempList.length&&(this.pageNo=this.pageNo-1,this.tableRef.paginator.pageIndex=this.pageNo-1),this.getClientClubListing(),this._toast.success(i.message)})}ngOnDestroy(){this.subscriptions.length>0&&this._common.unsubscribe(this.subscriptions)}}class u{}var r=e("pMnS"),O=e("NcP4"),g=e("t68o"),p=e("A8YC"),m=e("zbXB"),C=e("7nec"),f=e("d0kF"),y=e("A7ZX"),k=e("s6ns"),v=e("E2f4"),_=e("iInd"),A=e("dfTd"),S=e("++gc"),w=e("A1Tq"),L=e("IrvQ"),P=a.Cb({encapsulation:0,styles:[[""]],data:{}});function N(t){return a.ac(0,[a.Wb(402653184,1,{tableRef:0}),(t()(),a.Eb(1,0,null,null,1,"mat-table-renderer",[["listType","Club"],["notFound","Clients not added"],["placeholder","Search by Club Name"]],null,[[null,"add"],[null,"find"],[null,"page"],[null,"status"],[null,"sort"]],(function(t,i,e){var a=!0,n=t.component;return"add"===i&&(a=!1!==n.addClientClubs(e)&&a),"find"===i&&(a=!1!==n.paginationWithSearch(e,0)&&a),"page"===i&&(a=!1!==n.paginationWithSearch(e,1)&&a),"status"===i&&(a=!1!==n.changeStatus(e)&&a),"sort"===i&&(a=!1!==n.sortByListing(e)&&a),a}),f.b,f.a)),a.Db(2,245760,[[1,4]],0,o.a,[y.a,k.e,v.a,_.a,A.a,S.a],{cls:[0,"cls"],heading:[1,"heading"],notFound:[2,"notFound"],placeholder:[3,"placeholder"],listType:[4,"listType"]},{page:"page",find:"find",sort:"sort",add:"add",status:"status"})],(function(t,i){var e=i.component;t(i,2,0,a.Ib(1,"removeFilter ",e.permissionClass,""),e.heading,"Clients not added","Search by Club Name","Club")}),null)}var B=a.Ab("lv-client-clubs-listing",h,(function(t){return a.ac(0,[(t()(),a.Eb(0,0,null,null,2,"lv-client-clubs-listing",[],null,null,null,N,P)),a.Vb(512,null,s.a,s.a,[w.a]),a.Db(2,245760,null,0,h,[L.a,_.o,y.a,s.a,S.a,A.a],null,null)],(function(t,i){t(i,2,0)}),null)}),{},{},[]),I=e("SVse"),R=e("s7LF"),E=e("POq0"),F=e("Xd0L"),T=e("QQfA"),j=e("IP0z"),q=e("JjoW"),z=e("Mz6y"),W=e("cUpR"),Z=e("OIZN"),x=e("7kcP"),D=e("821u"),H=e("/HVE"),V=e("gavF"),Y=e("Gi4r"),G=e("HsOI"),J=e("oapL"),M=e("ZwOa"),Q=e("Fwaw"),K=e("dHPm"),U=e("Z0D0"),X=e("zMNK"),$=e("hOhj"),tt=e("igqZ"),it=e("zQui"),et=e("8rEH"),at=e("5GAg"),nt=e("UqGY"),st=e("fjoK"),bt=e("A3va"),lt=e("TTF9"),ct=e("RGOs"),dt=e("tl6j"),ot=e("mkRZ"),ht=e("6d+p"),ut=e("oATp"),rt=e("Mwml"),Ot=e("pBi1"),gt=e("AHvR"),pt=e("phW1"),mt=e("UP7b"),Ct=e("r0V8"),ft=e("ohvV");e.d(i,"ClientClubsListingModuleNgFactory",(function(){return yt}));var yt=a.Bb(u,[],(function(t){return a.Nb([a.Ob(512,a.l,a.mb,[[8,[r.a,O.a,g.a,p.a,m.b,m.a,C.a,B]],[3,a.l],a.E]),a.Ob(4608,I.o,I.n,[a.A,[2,I.E]]),a.Ob(4608,R.B,R.B,[]),a.Ob(4608,E.c,E.c,[]),a.Ob(4608,F.d,F.d,[]),a.Ob(4608,R.f,R.f,[]),a.Ob(4608,T.d,T.d,[T.j,T.f,a.l,T.i,T.g,a.w,a.G,I.d,j.b,[2,I.i]]),a.Ob(5120,T.k,T.l,[T.d]),a.Ob(5120,q.a,q.b,[T.d]),a.Ob(5120,z.b,z.c,[T.d]),a.Ob(4608,W.e,F.e,[[2,F.i],[2,F.n]]),a.Ob(5120,Z.c,Z.a,[[3,Z.c]]),a.Ob(5120,k.c,k.d,[T.d]),a.Ob(135680,k.e,k.e,[T.d,a.w,[2,I.i],[2,k.b],k.c,[3,k.e],T.f]),a.Ob(5120,x.d,x.a,[[3,x.d]]),a.Ob(4608,D.i,D.i,[]),a.Ob(5120,D.a,D.b,[T.d]),a.Ob(4608,F.c,F.x,[[2,F.h],H.a]),a.Ob(5120,V.c,V.j,[T.d]),a.Ob(4608,y.a,y.a,[]),a.Ob(1073742336,I.c,I.c,[]),a.Ob(1073742336,_.s,_.s,[[2,_.x],[2,_.o]]),a.Ob(1073742336,R.A,R.A,[]),a.Ob(1073742336,R.m,R.m,[]),a.Ob(1073742336,j.a,j.a,[]),a.Ob(1073742336,F.n,F.n,[[2,F.f],[2,W.f]]),a.Ob(1073742336,Y.c,Y.c,[]),a.Ob(1073742336,E.d,E.d,[]),a.Ob(1073742336,G.e,G.e,[]),a.Ob(1073742336,H.b,H.b,[]),a.Ob(1073742336,J.c,J.c,[]),a.Ob(1073742336,M.c,M.c,[]),a.Ob(1073742336,F.w,F.w,[]),a.Ob(1073742336,Q.c,Q.c,[]),a.Ob(1073742336,R.x,R.x,[]),a.Ob(1073742336,K.a,K.a,[]),a.Ob(1073742336,U.a,U.a,[]),a.Ob(1073742336,F.u,F.u,[]),a.Ob(1073742336,F.s,F.s,[]),a.Ob(1073742336,X.g,X.g,[]),a.Ob(1073742336,$.c,$.c,[]),a.Ob(1073742336,T.h,T.h,[]),a.Ob(1073742336,q.d,q.d,[]),a.Ob(1073742336,tt.e,tt.e,[]),a.Ob(1073742336,it.p,it.p,[]),a.Ob(1073742336,et.m,et.m,[]),a.Ob(1073742336,at.a,at.a,[]),a.Ob(1073742336,z.e,z.e,[]),a.Ob(1073742336,Z.d,Z.d,[]),a.Ob(1073742336,k.k,k.k,[]),a.Ob(1073742336,x.e,x.e,[]),a.Ob(1073742336,nt.a,nt.a,[]),a.Ob(1073742336,st.a,st.a,[]),a.Ob(1073742336,D.j,D.j,[]),a.Ob(1073742336,F.y,F.y,[]),a.Ob(1073742336,F.p,F.p,[]),a.Ob(1073742336,bt.a,bt.a,[]),a.Ob(1073742336,lt.a,lt.a,[]),a.Ob(1073742336,ct.a,ct.a,[]),a.Ob(1073742336,dt.a,dt.a,[]),a.Ob(1073742336,ot.e,ot.e,[]),a.Ob(1073742336,ht.a,ht.a,[]),a.Ob(1073742336,V.i,V.i,[]),a.Ob(1073742336,V.f,V.f,[]),a.Ob(1073742336,ut.a,ut.a,[]),a.Ob(1073742336,rt.a,rt.a,[]),a.Ob(1073742336,Ot.d,Ot.d,[]),a.Ob(1073742336,Ot.c,Ot.c,[]),a.Ob(1073742336,gt.a,gt.a,[]),a.Ob(1073742336,pt.a,pt.a,[]),a.Ob(1073742336,mt.a,mt.a,[]),a.Ob(1073742336,Ct.d,Ct.d,[]),a.Ob(1073742336,Ct.c,Ct.c,[]),a.Ob(1073742336,ft.a,ft.a,[]),a.Ob(1073742336,u,u,[]),a.Ob(256,F.g,F.k,[]),a.Ob(1024,_.m,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);